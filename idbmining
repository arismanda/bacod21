local Player = game:GetService("Players").LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

local function autoClickMiningButtons()
	local miningGui = PlayerGui:FindFirstChild("MiningGui")
	if not miningGui then return false end

	local hitButtons = miningGui:FindFirstChild("HitButtons")
	if not hitButtons then return false end

	local clicked = 0
	for _, button in pairs(hitButtons:GetChildren()) do
		if button:IsA("TextButton") and button.Visible then
			pcall(function()
				local success = pcall(function()
					button:FireEvent("MouseButton1Click")
				end)

				game:GetService("ReplicatedStorage"):WaitForChild("MiningHitEvent"):FireServer()
			end)

			clicked = clicked + 1
			task.wait(0.05)
		end
	end

	return clicked > 0
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoMiningGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 160, 0, 100)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(0, 150, 255)
mainFrame.Parent = screenGui

local title = Instance.new("TextLabel")
title.Text = "AUTO MINING"
title.Size = UDim2.new(1, 0, 0, 25)
title.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
title.TextColor3 = Color3.fromRGB(200, 200, 200)
title.Font = Enum.Font.GothamBold
title.TextSize = 14
title.Parent = mainFrame

local toggleButton = Instance.new("TextButton")
toggleButton.Text = "START AUTO"
toggleButton.Size = UDim2.new(0.8, 0, 0, 30)
toggleButton.Position = UDim2.new(0.1, 0, 0.3, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
toggleButton.TextColor3 = Color3.fromRGB(200, 200, 200)
toggleButton.Font = Enum.Font.Gotham
toggleButton.TextSize = 12
toggleButton.Parent = mainFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Text = "OFF"
statusLabel.Size = UDim2.new(1, 0, 0, 20)
statusLabel.Position = UDim2.new(0, 0, 0.75, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 12
statusLabel.Parent = mainFrame

local isAutoMining = false
local miningThread

toggleButton.MouseButton1Click:Connect(function()
	isAutoMining = not isAutoMining

	if isAutoMining then
		toggleButton.Text = "STOP AUTO"
		toggleButton.BackgroundColor3 = Color3.fromRGB(180, 0, 0)
		statusLabel.Text = "ON"
		statusLabel.TextColor3 = Color3.fromRGB(50, 255, 50)

		miningThread = task.spawn(function()
			while isAutoMining do
				pcall(autoClickMiningButtons)
				task.wait(0.1)
			end
		end)
	else
		toggleButton.Text = "START AUTO"
		toggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
		statusLabel.Text = "OFF"
		statusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)

		if miningThread then
			task.cancel(miningThread)
			miningThread = nil
		end
	end
end)

local manualButton = Instance.new("TextButton")
manualButton.Text = "KLIK"
manualButton.Size = UDim2.new(0.3, 0, 0, 25)
manualButton.Position = UDim2.new(0.6, 0, 0.5, 0)
manualButton.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
manualButton.TextColor3 = Color3.fromRGB(200, 200, 200)
manualButton.Font = Enum.Font.Gotham
manualButton.TextSize = 11
manualButton.Parent = mainFrame

manualButton.MouseButton1Click:Connect(function()
	pcall(autoClickMiningButtons)
end)

game:GetService("UserInputService").InputBegan:Connect(function(input)
	if input.KeyCode == Enum.KeyCode.F then
		pcall(function()
			toggleButton:FireEvent("MouseButton1Click")
		end)
	end
end)
