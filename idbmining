-- Simple Auto Mining (tekan P untuk toggle)
local Player = game:GetService("Players").LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local UserInputService = game:GetService("UserInputService")

local autoMining = false
local miningThread = nil

local function clickMiningButtons()
    local miningGui = PlayerGui:FindFirstChild("MiningGui")
    if not miningGui then return false end
    
    local hitButtons = miningGui:FindFirstChild("HitButtons")
    if not hitButtons then return false end
    
    for _, button in ipairs(hitButtons:GetChildren()) do
        if button:IsA("TextButton") and button.Visible then
            -- Trigger click event
            pcall(function()
                button:FireEvent("MouseButton1Click")
                game:GetService("ReplicatedStorage"):WaitForChild("MiningHitEvent"):FireServer()
            end)
            task.wait(0.1)
        end
    end
    
    return true
end

-- Hotkey: Tekan P untuk toggle auto mining
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.P then
        autoMining = not autoMining
        
        if autoMining then
            print("Auto mining ON")
            miningThread = task.spawn(function()
                while autoMining do
                    clickMiningButtons()
                    task.wait(0.2)
                end
            end)
        else
            print("Auto mining OFF")
            if miningThread then
                task.cancel(miningThread)
                miningThread = nil
            end
        end
    end
end)

print("Auto mining loaded! Press P to toggle")
